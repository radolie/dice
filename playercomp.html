<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>A Dice Game</title>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<!-- custom css -->
	<link rel="stylesheet" href="css/style.css">
	<!--[if IE]>
		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<script type="text/javascript">
		$(document).ready(function(){
				 // Handler for click event on #roll-button tag
				var dieValue=0;
				var dieValue2=0;
				var total=0;
				var total2=0;
		        $("#player1btn").click(function(e) {
		            var player1=getDiceRoll(dieValue); // All a function that does return a value
		            console.log(player1.valueDie);
		            $("#player1Score").html(player1.valueDie);
		            $("#player1Total").html(total=total+player1.valueDie);
		            console.log("total:"+total); 
		            while(player1.valueDie===1){
		            	$("#player1btn").attr('disabled', 'disabled');
		            	var player2=getDiceRoll(dieValue2); 
		            	$("#player2Score").html(player2.valueDie);
		            	$("#player2Total").html(total2=total2+player2.valueDie);
		     
						    if (player2.valueDie===1) { break; }
						    $("#player1btn").removeAttr("disabled");
						    if((total2>=100)&&(total2>total)){
			        	console.log("player2 wins");
			        	$("#player2btn,#player1btn").attr('disabled', 'disabled');
			        	$('.row').prepend("<div class='alert alert-success alert-dismissible'><a href='#' class='close' data-dismiss='alert' aria-label='close'>&times;</a><strong>Success!</strong> Player2 wins!!!</div>");
			        }
		            }
		            if((total>=100)&&(total>total2)){
			        	console.log("player1 wins");
			        	$("#player2btn,#player1btn").attr('disabled', 'disabled');
			        	$('.row').prepend("<div class='alert alert-success alert-dismissible'><a href='#' class='close' data-dismiss='alert' aria-label='close'>&times;</a><strong>Success!</strong> Player1 wins!!!</div>");
			        }
		       }); 

				function getDiceRoll(num){
	            console.log("getDiceRoll() - start");
	            num = Math.floor(Math.random() * 6 + 1);
	            console.log("getDiceRoll() - returning: " + num);

	            //sum=sum+num;
	            //var sumation=sum;
	            //console.log("getDiceRoll() - sum: " + sum);
	            return{"valueDie":num};
	        }
		});
	</script>
</head>

<body id="home">

	
	<div class="container text-center">
	 
		<div class="row" style="position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%);">
		     <h1>The first player to score 100 points or more wins</h1>
		  <div class="col-sm-6" style="border-right: 1px solid #fff;">
			  <p>Player 1</p>
			  <button type="button" class="btn btn-primary" style="text-align: left;" id="player1btn">Roll Dice</button>
			  <p style="text-align: left;">Score: <span id="player1Score"></span></p>
			  <p style="text-align: left;">Total: <span id="player1Total"></span></p>
		  </div>
		  <div class="col-sm-6">
			  <p>Player 2</p>
			  <button type="button" class="btn btn-primary" style="text-align: left;" disabled id="player2btn">Roll Dice</button>
			  <p style="text-align: left;">Score: <span id="player2Score"></span></p>
			  <p style="text-align: left;">Total: <span id="player2Total"></span></p>
		  </div>	
		</div>
	</div>

</body>
</html>